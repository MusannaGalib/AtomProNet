![PyPI downloads](https://img.shields.io/pypi/dm/your-package-name)
[![Paper](https://img.shields.io/badge/Journal-NpjComput.Mater.-blue)](https://doi.org/your-paper-doi)
[![Python 3.6+](https://img.shields.io/badge/python-3.6+-blue.svg)](https://www.python.org/downloads/)


# AtomProNet: Atomic Data Processing for Neural Network

This package demonstrates a data processing workflow involving Bash script, Python conversion scripts, which automatically converts multiple VASP OUTCAR data into neural network training format (extxyz or npz).

```
AtomProNet
    |
    ├── Pre-processing for DFT simulation
    │   ├── 2D/3D strain                   
    │   └── Ab-inito simulation            
    │
    │
    ├── Pre-processing for Neural Network               
    │   │
    │   └── DFT folders           
    │       ├── energy
    │       ├── forces
    │       ├── pressure      
    │       └── lattice parameters            
    │            │
    │            └── extxyz format
    │
    │
    └── Post-processing
        ├── MLIP         
        │   │                 
        │   ├── Uncertainity quantifications
        │   └── Visualization
        │
        └── LAMMPS  
            ├── Uncertainity quantifications
            └── Visualization   

```

## Workflow Overview

1. **Bash Script (`hydrostatic_strain_post_processing.sh`):**
   - Takes a user-provided file path, runs over all VASP simulation folders
   - Collect all the required information (energy, force, atomic positions, pressure in eV, lattice parameters)

2. **Python Converter (`lattice.py, energy.py, position_force.py, atom_symbol.py, pressure_eV.py, combine.py`):**
   - Processes the files generated by the Bash script.
   - Outputs the converted npz files.

3. **Final Python Processor (`npz_to_extxyz.py`):**
   - Takes the output from `combine.py` and performs a final operation.
   - Outputs the converted extxyz file.


## Installation and Usage Guide

This guide provides detailed instructions on how to install and use the VASP_Neural_Network_dataset_converter package.

### Prerequisites
- Python 3.6 or later
- Pip (Python package manager)

### Installation
1. **Download the Package:**
   - Download the zip file containing the AtomProNet package.
   - Extract the zip file to a directory of your choice.

2. **Install the Package:**
   - Open a command prompt or terminal.
   - Navigate to the directory where you extracted the package.
   - Install the package by running the command:
     ```
     git clone https://github.com/MusannaGalib/AtomProNet.git
     cd AtomProNet
     pip install .
     ```
   This command installs the package along with its dependencies.

   AtomProNet can also be installed from PyPI:
     ```
     pip install AtomProNet
     ```

### Using the Package

To use this package, run the Bash script with an input file, then pass the output file path to the Python scripts:

```bash
# Go to scripts folder ---> hydrostatic_strain_post_processing.sh, change the following line according to your simulation range
for EXX in $(seq -0.003 0.001 0.003); do
```

```python
# Provide the folder path of VASP simulations in 'process_and_run_script.py'
process_and_run_script(r'Folder path')


# Go to atom_symbol.py and change the atom types
    # Create the array with atomic numbers
    Al_count = 8  #Al
    O_count = 12   #O

    # Create an array with 'Al' symbols followed by other elements
    atom_array = np.concatenate([np.full(Al_count, 'Al'), np.full(O_count, 'O')])

# Run the process_and_run_script.py script using any code runner
python3 process_and_run_script.py

```
Options in lattice.py for 2D and 3D strains:

```python
# change the index_line in 'lattice.py': 2 for inplane/2D strains; 3 for hydrostratic/3D strains
# Defalut: if len(index_line) == 3 (hydrostatic strain)
        if len(index_line) == 3:              #3 for -0.05 -0.05 -0.05   2 for -0.05 -0.05
```

**Ab-inito MD simulation:**
```bash
# in the main run file activate the bash file for AIMD data processing as following- AIMD_data_extract.sh 
    bash_script_path = os.path.join(script_dir, '..', 'scripts', 'AIMD_data_extract.sh')  
    subprocess.run(['bash', 'AIMD_data_extract.sh'], capture_output=True, text=True, check=True)
# give your folder path containing AIMD VASP data    
    process_and_run_script(r'F:\Research\ML\package\AtomProNet\example_dataset\AIMD')
```
```bash
# in AIMD_data_extract.sh file edit the following

#If you have multiple folder edit here to give ("alumina_*") the prefix of folders 
    for DIRECTORY in $(find . -type d -name "alumina_*"); do

# change this lopp (i<=10) depending on AIMD steps
		for ((i=1; i<=10; i++)); do   
			echo "0.0 0.0 0.0" >> ../lattice.txt
			sed -n '3,5p' CONTCAR | awk '{printf $1" "$2" "$3" "$4" "$5" "$6" "$7" "$8" "$9" "} END {print ""}' >> ../lattice.txt
		done
```

### Example Usage

An example dataset is given in 'example_dataset' folder. You can use the following commands to play with that.

```python
# change the folder path
process_and_run_script(r'FOLDER_PATH\example_dataset\hydrostatic_strain')

# execute the python wrapper
python3 process_and_run_script.py
```
## Authors
This Software is developed by Musanna Galib


## Citing This Work
If you use this software in your research, please cite the following paper:


```python
BibTeX entry:
@article{YourPaper,
  title={Title of Your Paper},
  author={Your Name},
  journal={Journal/Conference},
  year={2024},
  publisher={Publisher}
}
```

### Contact, questions, and contributing
If you have questions, please don't hesitate to reach out to galibubc[at]student[dot]ubc[dot]ca

If you find a bug or have a proposal for a feature, please post it in the Issues. If you have a question, topic, or issue that isn't obviously one of those, try our GitHub Disucssions.

If your post is related to the framework/package, please post in the issues/discussion on that repository. 

